import numpy as np
from sklearn.cluster import KMeans
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# 3次元の座標データを用意する（適宜データを変更してください）
data = np.array([
[0.18380814,	-0.062249788,	0.611728794],
[-0.083147956,	-0.335084447,	0.542280874],
[-0.511591721,	-0.034476743,	-0.476317492],
[-0.612743672,	-0.057856646,	-0.159644565],
[-0.274374806,	-0.222179433,	0.143363939],
[-0.160431372,	-0.117613417,	0.276226333],
[-0.535682801,	0.819427173,	0.340810791],
[-0.432346388,	-0.024912762,	0.064214181],
[0.151508348,	-0.12022014,	0.479780589],
[0.125896378,	-0.301360299,	0.442046544],
[-0.520223704,	0.077654143,	-0.345058882],
[-0.313391668,	-0.336345008,	0.476030251],
[-0.39052454,	0.001779907,	-0.05914813],
[0.374428415,	-0.317640819,	0.882969633],
[-0.540805038,	-0.070026706,	-0.432336092],
[0.842045426,	-0.07707174,	0.939660132],
[0.396648996,	-0.014346433,	0.913521149],
[0.768350198,	0.002318768,	1.085852144],
[-0.753362164,	0.007769683,	-0.241355576],
[-0.410096258,	0.014983751,	0.073687634],
[0.538150787,	-0.070702892,	0.778472756],
[-0.177076242,	-0.243694463,	0.613173132],
[-0.495021481,	-0.09022018,	0.142470761],
[-0.335700288,	-0.458950549,	0.655922577],
[-0.487202895,	-0.104178311,	0.037562284],
[-0.316455476,	-0.307668432,	0.237953124],
[-0.13091561,	-0.093983159,	0.387738205],
[0.509578386,	-0.040435837,	0.83838154],
[-0.453532361,	-0.117030856,	0.209501501],
[0.576404833,	-0.097730691,	0.974355674],
[-0.380550512,	-0.663131478,	0.559108178],
[-0.533071853,	-0.031148433,	-0.01595959],
[-0.722923285,	-0.078820521,	-0.116013665],
[-0.387670067,	-0.17251168,	0.295134663],
[-0.428903069,	-0.358145463,	0.317040211],
[-0.368932464,	-0.025557753,	0.074908953],
[0.346154145,	0.126909543,	0.736145158],
[-0.595605236,	-0.084098941,	-0.25440616],
[-0.324913868,	-0.41598912,	0.343125552],
[-0.539594447,	0.117232322,	-0.274617121],
[-0.622080977,	0.829402467,	0.073641628],
[-0.459775334,	0.0070138,	0.086140034],
[-0.390860843,	-0.01145958,	-0.409841041],
[-0.635893451,	-0.488975848,	0.650215332],
[0.12222717,	0.098055398,	0.444347779],
[-0.528963736,	-0.168615577,	0.158987315],
[-0.409350955,	-0.078239672,	0.081110424],
[-0.38219456,	0.609092068,	0.233215007],
[-0.694585327,	-0.113357511,	-0.341946128],
[0.817588432,	-0.136736228,	0.951531298],
[-0.402319113,	-0.310930073,	0.532851859],
[-0.673679609,	0.03166429,	-0.210116027],
[-0.214225206,	-0.354573137,	0.363613347],
[-0.677841818,	-0.169221279,	-0.265327414],
[-0.394318792,	0.233735923,	-0.282065085],
[-0.077598937,	0.049395075,	0.319798061],
[-0.273658731,	-0.3317216,	0.350384792],
[-0.18423492,	0.097609924,	-0.376232202],
[-0.208766412,	-0.040933002,	0.330563436],
[-0.546924501,	0.02219361,	-0.124726771],
[-0.539048606,	-0.046517446,	-0.113132153],
[0.015924764,	-0.36481337,	0.605305316],
[-0.59948099,	-0.0406362,	-0.097952426],
[-0.685264809,	-0.040565493,	-0.179329711],
[-0.244818036,	-0.099848298,	0.315933187],
[-0.599453145,	-0.030714411,	-0.214599577],
[-0.728009568,	-0.042898037,	-0.204222803],
[-0.708120837,	-0.117289908,	-0.5537116],
[-0.071022828,	-0.043052241,	0.244974545],
[0.209230858,	0.086052209,	0.692086028],
[-0.049061919,	0.228256996,	0.568586601],
[-0.682965456,	-0.122281162,	-0.416927459],
[-0.101831736,	-0.262933966,	0.511207609],
[-0.492874389,	0.105830368,	-0.243995343],
[-0.079049511,	0.108588061,	0.343134248],
[-0.590363379,	-0.533177599,	0.685049821],
[-0.413384751,	-0.143293665,	0.132860057],
[-0.414186987,	-0.075863033,	-0.354596016],
[-0.486757166,	-0.153703195,	-0.02546525],
[-0.69140282,	-0.124201487,	-0.6170804],
[0.469285297,	0.092124749,	0.826498423],
[-0.580423375,	-0.053182711,	-0.413712003],
[-0.323172506,	-0.144362001,	-0.69492703],
[-0.258463063,	-0.417687634,	0.536803167],
[-0.155519529,	-0.228135903,	0.076829744],
[-0.343012653,	-0.339043343,	0.598967481],
[-0.649955235,	-0.019606097,	-0.306524507],
[-0.61415891,	-0.616908307,	0.432089375],
[-0.284599775,	-0.151231197,	0.328118429],
[0.091904503,	0.078395663,	0.493934234]
])

# クラスター数を指定
k = 2

# k-meansモデルを作成
kmeans = KMeans(n_clusters=k)
kmeans.fit(data)

# 各データ点が所属するクラスターを取得
labels = kmeans.labels_

# クラスターの中心座標を取得
centers = kmeans.cluster_centers_

# 結果の表示
print("クラスターの中心座標:")
print(centers)

# 3Dプロットで可視化
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

# データ点をプロット
ax.scatter(data[:, 0], data[:, 1], data[:, 2], c=labels, marker='o')

# クラスターの中心をプロット
ax.scatter(centers[:, 0], centers[:, 1], centers[:, 2], c='red', marker='X', s=200, label='Centroids')

ax.set_xlabel('X軸')
ax.set_ylabel('Y軸')
ax.set_zlabel('Z軸')

plt.legend()
plt.show()